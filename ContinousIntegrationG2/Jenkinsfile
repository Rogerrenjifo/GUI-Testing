pipeline {
  agent any
  stages{
    stage('Test'){
      steps{
        bat 'python --help'
      }
    }
    stage('Code Inspection'){
      steps{
        bat 'echo Test stage'
      }
    }
    stage('Instalar dependencias') {
      steps {
        script {
          virtualenvDir = "${WORKSPACE}/venv"  // Directorio del entorno virtual
          bat "python -m venv ${virtualenvDir}"  // Crear el entorno virtual
          bat "${virtualenvDir}/bin/pip install -r requirements.txt"  // Instalar las dependencias en el entorno virtual
        }
      }
    }
  }
}
